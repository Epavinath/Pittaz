<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PITTAZ | Admin Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-8">

<h1 class="text-3xl font-bold mb-6">Admin Dashboard</h1>

<!-- STATS -->
<div class="grid md:grid-cols-4 gap-6 mb-10">
  <div class="bg-white p-4 rounded shadow">
    <p class="text-sm text-gray-500">Orders</p>
    <h2 id="orderCount" class="text-2xl font-bold">0</h2>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <p class="text-sm text-gray-500">Revenue</p>
    <h2 id="revenue" class="text-2xl font-bold">₹0</h2>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <p class="text-sm text-gray-500">Leads</p>
    <h2 id="leadCount" class="text-2xl font-bold">0</h2>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <p class="text-sm text-gray-500">Products</p>
    <h2 class="text-2xl font-bold">Custom</h2>
  </div>
</div>

<!-- ORDERS -->
<h2 class="text-xl font-semibold mb-3">Orders</h2>
<div id="orders" class="space-y-4 mb-10"></div>

<!-- LEADS -->
<h2 class="text-xl font-semibold mb-3">Contact Leads</h2>
<div id="leads" class="space-y-4"></div>

<script>
function updateStatus(index, newStatus) {
  const orders = JSON.parse(localStorage.getItem("pittazOrders")) || [];
  orders[index].status = newStatus;
  localStorage.setItem("pittazOrders", JSON.stringify(orders));
  renderOrders();
}

function renderOrders() {
  const orders = JSON.parse(localStorage.getItem("pittazOrders")) || [];
  const orderBox = document.getElementById("orders");
  orderBox.innerHTML = "";

  orders.forEach((o, index) => {
    orderBox.innerHTML += `
      <div class="bg-white p-4 rounded shadow">
        <div class="flex justify-between items-center">
          <div>
            <p><strong>${o.id}</strong></p>
            <p class="text-sm text-gray-500">${o.date}</p>
            <p>Total: ₹${o.total}</p>
          </div>

          <select
            onchange="updateStatus(${index}, this.value)"
            class="border p-2 rounded text-sm">

            <option ${o.status==="Pending"?"selected":""}>Pending</option>
            <option ${o.status==="Printing"?"selected":""}>Printing</option>
            <option ${o.status==="Dispatched"?"selected":""}>Dispatched</option>
            <option ${o.status==="Delivered"?"selected":""}>Delivered</option>
          </select>
        </div>

        <div class="mt-4 flex gap-3">
          ${o.items.map(i => `
            <img src="${i.designImage}"
                 class="w-20 h-20 border rounded object-contain" />
          `).join("")}
        </div>
      </div>
    `;
  });
}

renderOrders();
</script>


</body>
</html>
